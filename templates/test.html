<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pluto the Robot</title>
    <!-- <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script> -->
</head>

<body>
<h3 style='color: #ccc;font-size: 30px;'>No message yet..</h3>
<div class="message_holder"></div>

<form id="control" action="" method="POST">
    <input id="step" type="number" class="X" name="quantity" min="0.1" max="100" step="0.1" value="1" placeholder="Step">
    <input id="force" type="number" class="Y" name="quantity" min="1" max="100" step="1" value="100" placeholder="Force">

    <br><br>
    <button type="button" class="btn btn-default" id="move-left"> < </button>
    <button type="button" class="btn btn-default" id="move-forward"> ^ </button>
    <button type="button" class="btn btn-default" id="move-backward"> v </button>
    <button type="button" class="btn btn-default" id="move-right"> > </button>
    <button type="button" class="btn btn-danger" id="stop">Stop</button>

    <input type="submit"/>
</form>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
<script type="text/javascript">
var socket = io.connect('http://' + document.domain + ':' + location.port);

socket.on('connect', function() {

    var on_left = $('#move-left').on('click', function(event){
        event.preventDefault()
		let step = document.getElementById("step").value;
		let force = document.getElementById("force").value;
        console.log(step, force)
        console.log(event.target.id)
    });

    var on_forward = $('#move-forward').on('click', function(element){
        element.preventDefault()
        console.log("forward button catched")
    });

    var on_backward = $('#move-backward').on('click', function(element){
        element.preventDefault()
        console.log("backward button catched")
    });

    var on_right = $('#move-right').on('click', function(element){
        element.preventDefault()
        console.log("right button catched")
    });

    var on_stop = $('#stop').on('click', function(element){
        element.preventDefault()
        console.log("stop button catched")
    });

    /*
    var form = $('form').on('submit', function(element) {
		element.preventDefault()
		let X = $('input.X').val()
		let Y = $('input.Y').val()
		socket.emit('command', {X : X, Y : Y})
		//$('input.X').val('').focus() // clean value and focus on item
	})
	*/
})

socket.on('response', function(msg) {
	console.log(msg)

	if (typeof msg !== 'undefined') {
		$('h3').remove()
		$('div.message_holder').remove
		$('div.message_holder').append('<div>' + msg + '</div>')
    }
})
</script>

</body>
</html>
